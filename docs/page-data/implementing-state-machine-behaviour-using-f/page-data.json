{"componentChunkName":"component---node-modules-narative-gatsby-theme-novela-src-templates-article-template-tsx","path":"/implementing-state-machine-behaviour-using-f","result":{"pageContext":{"article":{"id":"383650c4-be4e-512c-b8d9-7ba38db03eab","slug":"/implementing-state-machine-behaviour-using-f","secret":false,"title":"Implementing state machine behaviour using F#","author":"Bipin Paul Bedi","date":"April 4th, 2020","dateForSEO":"2020-04-04","timeToRead":2,"excerpt":"get rid of hard coding conditions in your code","canonical_url":null,"subscription":true,"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Implementing state machine behaviour using F#\",\n  \"author\": \"Bipin Paul Bedi\",\n  \"date\": \"2020-04-04\",\n  \"hero\": \"./images/state-machine.webp\",\n  \"excerpt\": \"get rid of hard coding conditions in your code\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component '\" + name + \"' was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"State Machine simulation is one of the most common practices. It is not a coding-oriented design pattern, but it is system-oriented, often used to model cases for the business use. Using F\", \"#\", \" and domain driven design, we can not only define different types to represent the state, but we can also define behaviour as functions for various state transition rules.\"), mdx(\"p\", null, \"For example, given a current state X, a state machine will define what new state X can change to, and what events can cause the state changes to occur. i.e. Current State -\", \">\", \" Event -\", \">\", \" New State\"), mdx(\"p\", null, \"In our scenario, we have various states and transition events of a process in an operating system viz.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"module Process\\n    module StateMachine\\n        type ProcessState =\\n            | New\\n            | Ready\\n            | Running\\n            | Waiting\\n            | Terminated\\n        \\n        type ProcessEvent\\n            | Admit\\n            | Interrupt\\n            | SchedulerDispatch\\n            | IOEventWait\\n            | IOEventCompletion\\n            | Exit\\n\")), mdx(\"div\", {\n    \"className\": \"Image__Small\"\n  }, \"\\n  \", mdx(\"span\", _extends({\n    parentName: \"div\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"652px\"\n    }\n  }), \"\\n      \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"38.95705521472393%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAIABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAIF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAdsJQP/EABcQAQADAAAAAAAAAAAAAAAAAAABERL/2gAIAQEAAQUCWzD/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAWEAEBAQAAAAAAAAAAAAAAAAAhABD/2gAIAQEABj8CIz//xAAZEAEAAgMAAAAAAAAAAAAAAAABABFBUWH/2gAIAQEAAT8hSiCzpmcJ/9oADAMBAAIAAwAAABCMP//EABcRAAMBAAAAAAAAAAAAAAAAAAABEUH/2gAIAQMBAT8Q2ER//8QAFhEBAQEAAAAAAAAAAAAAAAAAAAER/9oACAECAQE/EG1//8QAGRABAQEBAQEAAAAAAAAAAAAAAREAITFB/9oACAEBAAE/EJUpGtHS6Z+qtw/a7313/9k=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/f0c3cba6cf4278b117f9537df309c84b/23d72/OSStates.webp 652w\"],\n    \"sizes\": \"(max-width: 652px) 100vw, 652px\",\n    \"type\": \"image/webp\"\n  })), \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/f0c3cba6cf4278b117f9537df309c84b/9fc2b/OSStates.jpg 652w\"],\n    \"sizes\": \"(max-width: 652px) 100vw, 652px\",\n    \"type\": \"image/jpeg\"\n  })), \"\\n        \", mdx(\"img\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"src\": \"/static/f0c3cba6cf4278b117f9537df309c84b/9fc2b/OSStates.jpg\",\n    \"alt\": \"OSStates\",\n    \"title\": \"OSStates\",\n    \"loading\": \"lazy\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    }\n  })), \"\\n      \"), \"\\n    \")), mdx(\"p\", null, \"Let us create a state machine function that can provide the transition based on current state and event. It will be a simple pattern matching to identify the new state.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"let stateMachine (state, event) =\\n    match state, event with\\n    | New, Admit\\n        -> Ready\\n    | Ready, SchedulerDispatch\\n        -> Running\\n    | Running, IOEventWait\\n        -> Waiting\\n    | Running, Exit\\n        -> Terminated\\n    | Running, Interrupt\\n        -> Ready\\n    | Waiting, IOEventCompletion\\n        -> Ready\\n    | _\\n        -> failwith  \\\"Invalid Transition\\\"\\n\")), mdx(\"p\", null, \"The above function can provide the behaviour for transition, but it has an issue, it will allow us to raise an event which might not be permitted by the state such as ADMIT event when the current state is WAITING. This can lead to a run time exception \\u201CInvalid Transition\\u201D. Thus a better way to provide the implementation for the above code is to replace with the following code. First, we create two helper function, stateTransition that will take event as an input to return the future state and getEventForState that will take the current state as an input to return the collection of possible events it can raise.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"let private stateTransition event =\\n    match event with\\n    | Admit\\n        -> Ready\\n    | SchedulerDispatch\\n        -> Running\\n    | IOEventWait\\n        -> Waiting\\n    | Exit\\n        -> Terminated\\n    | Interrupt\\n        -> Ready\\n    | IOEventCompletion\\n        -> ready\\n        \\nlet private getEventForState state =\\n    match state with\\n    | New\\n        ->[|Admit|]\\n    | Ready\\n        -> [|SchedulerDispatch|]\\n    | Running\\n        -> [|IOEventWait, Interrupt, Exit|]\\n    | Waiting\\n        -> [|IOEventCompletion|]\\n\")), mdx(\"p\", null, \"Now we need a circular reference type that can be used to store the allowed event record with an identification property and a method function that takes a unit as an input to returns future allowed events with current state details.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"type AllowedEvent = \\n        {\\n                EventInfo : ProcessEvent\\n                RaiseEvent : unit -> EventResult\\n        }\\nand EventResult\\n        {\\n                CurrentState : ProcessState\\n                AllowedEvents : AllowedEvent array\\n        }\\n\")), mdx(\"p\", null, \"In the above definition, AllowedEvent references EventResult in RaiseEvent and EventResult references AllowedEvent in AllowedEvents. Please note that both functions stateTransition and getEventForState are private to module.\"), mdx(\"p\", null, \"Let us implement the final state machine function\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"let rec stateMachine event =\\n    let newState = stateTransition event\\n    let newEvents = getEventForState newState\\n    {\\n        CurrentState = newState\\n        AllowedEvents = \\n            newEvents\\n            |> Array.map (fun e ->\\n                let f() = stateMachine e\\n                {\\n                    EventInfo = e\\n                    RaiseEvent = f\\n                })\\n    }\\n\")), mdx(\"p\", null, \"This is recursive function as it is self referencing and it returns EventResult type. The stateMachine function takes the event as an input to calculate newState and newEvent using helper methods and then creates EventResult. The AllowedEvent array create a special map of functions, to be called at runtime for transitioning between states from outside the module. By implementing above code we can utilise the result from each RaiseEvent to traverse further.\"), mdx(\"p\", null, \"To complete the the above implementation we would provide a method to be accessed publicly and it will give us initial result of the state machine.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"let init() = stateMachine New\\n\")), mdx(\"p\", null, \"To test the implementation, we can now proceed as\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"let result = init()\\nlet result1 = result.AllowedEvents.[0].raiseEvent()\\n\")), mdx(\"p\", null, \"This methodology ensures that every time we raise an event, it is a valid event.\"));\n}\n;\nMDXContent.isMDXComponent = true;","hero":{"full":{"base64":"data:image/webp;base64,UklGRjYAAABXRUJQVlA4ICoAAACwAgCdASoUAAYAPtFWo0uoJKMhsAgBABoJaQAAeyAA/vJPPCwx2GMAAAA=","aspectRatio":3.5757575757575757,"src":"/static/7f744bd735bb299e4205df8c4e74ef02/99fbb/state-machine.webp","srcSet":"/static/7f744bd735bb299e4205df8c4e74ef02/77392/state-machine.webp 236w,\n/static/7f744bd735bb299e4205df8c4e74ef02/1f177/state-machine.webp 472w,\n/static/7f744bd735bb299e4205df8c4e74ef02/99fbb/state-machine.webp 944w,\n/static/7f744bd735bb299e4205df8c4e74ef02/b923f/state-machine.webp 1280w","srcWebp":"/static/7f744bd735bb299e4205df8c4e74ef02/99fbb/state-machine.webp","srcSetWebp":"/static/7f744bd735bb299e4205df8c4e74ef02/77392/state-machine.webp 236w,\n/static/7f744bd735bb299e4205df8c4e74ef02/1f177/state-machine.webp 472w,\n/static/7f744bd735bb299e4205df8c4e74ef02/99fbb/state-machine.webp 944w,\n/static/7f744bd735bb299e4205df8c4e74ef02/b923f/state-machine.webp 1280w","sizes":"(max-width: 944px) 100vw, 944px"},"regular":{"base64":"data:image/webp;base64,UklGRjYAAABXRUJQVlA4ICoAAACwAgCdASoUAAYAPtFWo0uoJKMhsAgBABoJaQAAeyAA/vJPPCwx2GMAAAA=","aspectRatio":3.5434782608695654,"src":"/static/7f744bd735bb299e4205df8c4e74ef02/0acdf/state-machine.webp","srcSet":"/static/7f744bd735bb299e4205df8c4e74ef02/ac59e/state-machine.webp 163w,\n/static/7f744bd735bb299e4205df8c4e74ef02/7660b/state-machine.webp 327w,\n/static/7f744bd735bb299e4205df8c4e74ef02/0acdf/state-machine.webp 653w,\n/static/7f744bd735bb299e4205df8c4e74ef02/75470/state-machine.webp 980w,\n/static/7f744bd735bb299e4205df8c4e74ef02/b923f/state-machine.webp 1280w","srcWebp":"/static/7f744bd735bb299e4205df8c4e74ef02/0acdf/state-machine.webp","srcSetWebp":"/static/7f744bd735bb299e4205df8c4e74ef02/ac59e/state-machine.webp 163w,\n/static/7f744bd735bb299e4205df8c4e74ef02/7660b/state-machine.webp 327w,\n/static/7f744bd735bb299e4205df8c4e74ef02/0acdf/state-machine.webp 653w,\n/static/7f744bd735bb299e4205df8c4e74ef02/75470/state-machine.webp 980w,\n/static/7f744bd735bb299e4205df8c4e74ef02/b923f/state-machine.webp 1280w","sizes":"(max-width: 653px) 100vw, 653px"},"narrow":{"base64":"data:image/webp;base64,UklGRjYAAABXRUJQVlA4ICoAAACwAgCdASoUAAYAPtFWo0uoJKMhsAgBABoJaQAAeyAA/vJPPCwx2GMAAAA=","aspectRatio":3.5625,"src":"/static/7f744bd735bb299e4205df8c4e74ef02/15384/state-machine.webp","srcSet":"/static/7f744bd735bb299e4205df8c4e74ef02/31fce/state-machine.webp 114w,\n/static/7f744bd735bb299e4205df8c4e74ef02/e3e25/state-machine.webp 229w,\n/static/7f744bd735bb299e4205df8c4e74ef02/15384/state-machine.webp 457w,\n/static/7f744bd735bb299e4205df8c4e74ef02/0258d/state-machine.webp 686w,\n/static/7f744bd735bb299e4205df8c4e74ef02/64ea2/state-machine.webp 914w,\n/static/7f744bd735bb299e4205df8c4e74ef02/b923f/state-machine.webp 1280w","srcWebp":"/static/7f744bd735bb299e4205df8c4e74ef02/15384/state-machine.webp","srcSetWebp":"/static/7f744bd735bb299e4205df8c4e74ef02/31fce/state-machine.webp 114w,\n/static/7f744bd735bb299e4205df8c4e74ef02/e3e25/state-machine.webp 229w,\n/static/7f744bd735bb299e4205df8c4e74ef02/15384/state-machine.webp 457w,\n/static/7f744bd735bb299e4205df8c4e74ef02/0258d/state-machine.webp 686w,\n/static/7f744bd735bb299e4205df8c4e74ef02/64ea2/state-machine.webp 914w,\n/static/7f744bd735bb299e4205df8c4e74ef02/b923f/state-machine.webp 1280w","sizes":"(max-width: 457px) 100vw, 457px"},"seo":{"src":"/static/7f744bd735bb299e4205df8c4e74ef02/9000d/state-machine.webp"}}},"authors":[{"authorsPage":true,"bio":"scholar of technology | <a href=\"https://brainfuel.substack.com/\">mental model published by me elsewhere</a> | passionate entrepreneur | <a href=\"https://github.com/bipinpaulbedi\">github</a>\n","id":"87a8eb5a-9d47-525e-b9a0-9f4bbb568166","name":"Bipin Paul Bedi","featured":true,"social":[{"url":"https://twitter.com/bipinpaulbedi"},{"url":"https://instagram.com/bipinpaulbedi"},{"url":"https://github.com/bipinpaulbedi"},{"url":"https://www.linkedin.com/in/bipinpaulbedi/"}],"slug":"/authors/bipin-paul-bedi","avatar":{"small":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAMEBf/EABYBAQEBAAAAAAAAAAAAAAAAAAECAP/aAAwDAQACEAMQAAABuUtepNZLaOniGZgn/8QAGhAAAwADAQAAAAAAAAAAAAAAAAECAxESMv/aAAgBAQABBQJ4Y6zYkVPYy90TMwmR70f/xAAXEQEAAwAAAAAAAAAAAAAAAAABABAS/9oACAEDAQE/ARmr/8QAFhEAAwAAAAAAAAAAAAAAAAAAABAR/9oACAECAQE/ASP/xAAaEAABBQEAAAAAAAAAAAAAAAABAAIQERIh/9oACAEBAAY/AnPPSVqlcZWYMf/EAB0QAAEEAgMAAAAAAAAAAAAAAAEAESExEGFBUcH/2gAIAQEAAT8hCE2JUQacaToMeLbAPf0meIjGegJi/9oADAMBAAIAAwAAABAvMIH/xAAYEQEAAwEAAAAAAAAAAAAAAAABABAhMf/aAAgBAwEBPxAA2IXl/wD/xAAYEQEBAAMAAAAAAAAAAAAAAAABABARIf/aAAgBAgEBPxBHfIcY/8QAHBABAAICAwEAAAAAAAAAAAAAAQARITFhcZFR/9oACAEBAAE/EFqNtsHRDAgIWmHpBDw0RtlmqfZVgscNfXMIXe97uOhmYeH2CWoK5bJ//9k=","aspectRatio":1,"src":"/static/02ee229ed001a65da00dbbf79ea8f607/fa1ea/bipin-paul-bedi.jpg","srcSet":"/static/02ee229ed001a65da00dbbf79ea8f607/afb2b/bipin-paul-bedi.jpg 13w,\n/static/02ee229ed001a65da00dbbf79ea8f607/7c20e/bipin-paul-bedi.jpg 25w,\n/static/02ee229ed001a65da00dbbf79ea8f607/fa1ea/bipin-paul-bedi.jpg 50w,\n/static/02ee229ed001a65da00dbbf79ea8f607/03612/bipin-paul-bedi.jpg 75w,\n/static/02ee229ed001a65da00dbbf79ea8f607/61cdf/bipin-paul-bedi.jpg 100w,\n/static/02ee229ed001a65da00dbbf79ea8f607/763e1/bipin-paul-bedi.jpg 1877w","srcWebp":"/static/02ee229ed001a65da00dbbf79ea8f607/e7b2c/bipin-paul-bedi.webp","srcSetWebp":"/static/02ee229ed001a65da00dbbf79ea8f607/58718/bipin-paul-bedi.webp 13w,\n/static/02ee229ed001a65da00dbbf79ea8f607/74aad/bipin-paul-bedi.webp 25w,\n/static/02ee229ed001a65da00dbbf79ea8f607/e7b2c/bipin-paul-bedi.webp 50w,\n/static/02ee229ed001a65da00dbbf79ea8f607/ed320/bipin-paul-bedi.webp 75w,\n/static/02ee229ed001a65da00dbbf79ea8f607/66016/bipin-paul-bedi.webp 100w,\n/static/02ee229ed001a65da00dbbf79ea8f607/d7bbb/bipin-paul-bedi.webp 1877w","sizes":"(max-width: 50px) 100vw, 50px"},"medium":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAMEBf/EABYBAQEBAAAAAAAAAAAAAAAAAAECAP/aAAwDAQACEAMQAAABuUtepNZLaOniGZgn/8QAGhAAAwADAQAAAAAAAAAAAAAAAAECAxESMv/aAAgBAQABBQJ4Y6zYkVPYy90TMwmR70f/xAAXEQEAAwAAAAAAAAAAAAAAAAABABAS/9oACAEDAQE/ARmr/8QAFhEAAwAAAAAAAAAAAAAAAAAAABAR/9oACAECAQE/ASP/xAAaEAABBQEAAAAAAAAAAAAAAAABAAIQERIh/9oACAEBAAY/AnPPSVqlcZWYMf/EAB0QAAEEAgMAAAAAAAAAAAAAAAEAESExEGFBUcH/2gAIAQEAAT8hCE2JUQacaToMeLbAPf0meIjGegJi/9oADAMBAAIAAwAAABAvMIH/xAAYEQEAAwEAAAAAAAAAAAAAAAABABAhMf/aAAgBAwEBPxAA2IXl/wD/xAAYEQEBAAMAAAAAAAAAAAAAAAABABARIf/aAAgBAgEBPxBHfIcY/8QAHBABAAICAwEAAAAAAAAAAAAAAQARITFhcZFR/9oACAEBAAE/EFqNtsHRDAgIWmHpBDw0RtlmqfZVgscNfXMIXe97uOhmYeH2CWoK5bJ//9k=","aspectRatio":1,"src":"/static/02ee229ed001a65da00dbbf79ea8f607/61cdf/bipin-paul-bedi.jpg","srcSet":"/static/02ee229ed001a65da00dbbf79ea8f607/7c20e/bipin-paul-bedi.jpg 25w,\n/static/02ee229ed001a65da00dbbf79ea8f607/fa1ea/bipin-paul-bedi.jpg 50w,\n/static/02ee229ed001a65da00dbbf79ea8f607/61cdf/bipin-paul-bedi.jpg 100w,\n/static/02ee229ed001a65da00dbbf79ea8f607/59538/bipin-paul-bedi.jpg 150w,\n/static/02ee229ed001a65da00dbbf79ea8f607/fd013/bipin-paul-bedi.jpg 200w,\n/static/02ee229ed001a65da00dbbf79ea8f607/763e1/bipin-paul-bedi.jpg 1877w","srcWebp":"/static/02ee229ed001a65da00dbbf79ea8f607/66016/bipin-paul-bedi.webp","srcSetWebp":"/static/02ee229ed001a65da00dbbf79ea8f607/74aad/bipin-paul-bedi.webp 25w,\n/static/02ee229ed001a65da00dbbf79ea8f607/e7b2c/bipin-paul-bedi.webp 50w,\n/static/02ee229ed001a65da00dbbf79ea8f607/66016/bipin-paul-bedi.webp 100w,\n/static/02ee229ed001a65da00dbbf79ea8f607/d9b14/bipin-paul-bedi.webp 150w,\n/static/02ee229ed001a65da00dbbf79ea8f607/6b183/bipin-paul-bedi.webp 200w,\n/static/02ee229ed001a65da00dbbf79ea8f607/d7bbb/bipin-paul-bedi.webp 1877w","sizes":"(max-width: 100px) 100vw, 100px"},"large":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAMEBf/EABYBAQEBAAAAAAAAAAAAAAAAAAECAP/aAAwDAQACEAMQAAABuUtepNZLaOniGZgn/8QAGhAAAwADAQAAAAAAAAAAAAAAAAECAxESMv/aAAgBAQABBQJ4Y6zYkVPYy90TMwmR70f/xAAXEQEAAwAAAAAAAAAAAAAAAAABABAS/9oACAEDAQE/ARmr/8QAFhEAAwAAAAAAAAAAAAAAAAAAABAR/9oACAECAQE/ASP/xAAaEAABBQEAAAAAAAAAAAAAAAABAAIQERIh/9oACAEBAAY/AnPPSVqlcZWYMf/EAB0QAAEEAgMAAAAAAAAAAAAAAAEAESExEGFBUcH/2gAIAQEAAT8hCE2JUQacaToMeLbAPf0meIjGegJi/9oADAMBAAIAAwAAABAvMIH/xAAYEQEAAwEAAAAAAAAAAAAAAAABABAhMf/aAAgBAwEBPxAA2IXl/wD/xAAYEQEBAAMAAAAAAAAAAAAAAAABABARIf/aAAgBAgEBPxBHfIcY/8QAHBABAAICAwEAAAAAAAAAAAAAAQARITFhcZFR/9oACAEBAAE/EFqNtsHRDAgIWmHpBDw0RtlmqfZVgscNfXMIXe97uOhmYeH2CWoK5bJ//9k=","aspectRatio":1,"src":"/static/02ee229ed001a65da00dbbf79ea8f607/ec46e/bipin-paul-bedi.jpg","srcSet":"/static/02ee229ed001a65da00dbbf79ea8f607/a2637/bipin-paul-bedi.jpg 82w,\n/static/02ee229ed001a65da00dbbf79ea8f607/15203/bipin-paul-bedi.jpg 164w,\n/static/02ee229ed001a65da00dbbf79ea8f607/ec46e/bipin-paul-bedi.jpg 328w,\n/static/02ee229ed001a65da00dbbf79ea8f607/b69a5/bipin-paul-bedi.jpg 492w,\n/static/02ee229ed001a65da00dbbf79ea8f607/23a36/bipin-paul-bedi.jpg 656w,\n/static/02ee229ed001a65da00dbbf79ea8f607/763e1/bipin-paul-bedi.jpg 1877w","srcWebp":"/static/02ee229ed001a65da00dbbf79ea8f607/5a48e/bipin-paul-bedi.webp","srcSetWebp":"/static/02ee229ed001a65da00dbbf79ea8f607/2d087/bipin-paul-bedi.webp 82w,\n/static/02ee229ed001a65da00dbbf79ea8f607/29d87/bipin-paul-bedi.webp 164w,\n/static/02ee229ed001a65da00dbbf79ea8f607/5a48e/bipin-paul-bedi.webp 328w,\n/static/02ee229ed001a65da00dbbf79ea8f607/42f2e/bipin-paul-bedi.webp 492w,\n/static/02ee229ed001a65da00dbbf79ea8f607/dec03/bipin-paul-bedi.webp 656w,\n/static/02ee229ed001a65da00dbbf79ea8f607/d7bbb/bipin-paul-bedi.webp 1877w","sizes":"(max-width: 328px) 100vw, 328px"}}}],"basePath":"/","permalink":"https://www.bipinpaulbedi.com/implementing-state-machine-behaviour-using-f/","slug":"/implementing-state-machine-behaviour-using-f","id":"383650c4-be4e-512c-b8d9-7ba38db03eab","title":"Implementing state machine behaviour using F#","canonicalUrl":null,"mailchimp":"","next":[{"id":"f944c2eb-11c8-53eb-a0a9-fc4add97bc2e","slug":"/functional-design-patterns-using-rust","secret":false,"title":"Functional design patterns using rust","author":"Bipin Paul Bedi","date":"November 7th, 2019","dateForSEO":"2019-11-07","timeToRead":3,"excerpt":"everything is a reduce","canonical_url":null,"subscription":true,"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Functional design patterns using rust\",\n  \"author\": \"Bipin Paul Bedi\",\n  \"date\": \"2019-11-07\",\n  \"hero\": \"./images/functional-rust.webp\",\n  \"excerpt\": \"everything is a reduce\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component '\" + name + \"' was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"Wikipedia states - In software engineering, a software design pattern is a general, reusable solution to a commonly occurring problem within a given context in software design. It is not a finished design that can be transformed directly into source or machine code. It is a description or template for how to solve a problem that can be used in many different situations. Design patterns are formalized best practices that the programmer can use to solve common problems when designing an application or system.\"), mdx(\"p\", null, \"Design patterns may be viewed as a structured approach to computer programming intermediate between the levels of a programming paradigm and a concrete algorithm.\"), mdx(\"p\", null, \"If you are keen on functional programming, I would recommend reading \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/hmemcpy/milewski-ctfp-pdf/\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"Category Theory for Programmers\"), \", and in this post, we will be exploring some common functional programming design patterns\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Functor Pattern\")), mdx(\"p\", null, \"A functor is approximately the inverse of a function. A function defines a transformation, accepts data, and returns the result of the transformation. A functor defines data, accepts a function, and returns the result of the transformation.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"fn main() {\\n   let m: Vec<u64> = vec![1, 2, 3];\\n   let n: Vec<u64> = m.iter().map(|x| { x*x }).collect();\\n   println!(\\\"{:?}\\\", m);\\n   println!(\\\"{:?}\\\", n);\\n}\\n\")), mdx(\"p\", null, \"here \\u2018map\\u2019 is a functor. Thus a functor lifts or upgrades a function from one that cannot operate on an effect1 to one that can work on a single effect1, leaving the effect1 intact after the function is done.\"), mdx(\"p\", null, \"effect1: ability to bring about a result i.e. list, array, tuple, struct, record, object, future, promise, function, tree, hashmap, dictionary etc.\"), mdx(\"p\", null, \"I think of a functor as being a component of the command pattern, which also involves other infrastructure such as the invoker and command recipients.\"), mdx(\"p\", null, \"Trait:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"pub trait Functor: Generic1 {\\n    fn fmap<Y, F: Fn(Self::Type) -> Y>(self, f: F) -> Self::Type \\n        where Self: Rebind1<Y>;\\n}\\n\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Applicatives Pattern\")), mdx(\"p\", null, \"Applicative functors allow us to deal with function of two arguments and two functors, by mapping curried function onto functor and then applying it to second functor\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"let v1 = vec![1,2,3]; \\nlet v2 = vec![4,5]; \\nlet result: Vec = v1.iter().map(|x||y| x*y)).apply(v2.iter()).collect(); \\nlet expect = vec![4, 5, 8, 10, 12, 15]; \\nassert_eq!(expect, result);\\n\")), mdx(\"p\", null, \"Based on above example a product of each element of V1 with V2 is \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"applied\"), \", creating six elements in result vector. Then the following trait can form the foundation of applicative functors.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"pub trait Applicative: Functor {\\n    fn apply<X, U>(self, x: X) -> Applied<Self, X> \\n        where X: Applicative, Self: Sized { ... }\\n}\\n\")), mdx(\"p\", null, \"This pattern isn\\u2019t practically used in rust very often because this pattern is not considered idiomatic rust.\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Monad Pattern\")), mdx(\"p\", null, \"There is a natural hierarchy of types: any Monad is an Applicative, and any Applicative is a Functor.\"), mdx(\"p\", null, \"This allows structuring programs generically while automating away the boilerplate code needed by the program logic. Monads achieve this by providing their own data type, which represents a specific form of computation, along with one procedure to wrap values of any basic type within the monad \", \"(\", \"yielding a monadic value\", \")\", \" and another to compose functions that output monadic values \", \"(\", \"called monadic functions\", \")\", \". Thus a monad defines return and bind operations for a type. The return operation is like a constructor to make the monad. The bind operation incorporates new information and returns a new monad.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"Monad::return(value)  //We start with a new Monad<X>\\n        .bind(|x| x+x)  //We take a step into Monad<X+1>\\n        .bind(|y| y*y); //Similarly we get to Monad<X+2>\\n\")), mdx(\"p\", null, \"Monadic bind operations are also polymorphic, meaning they should permit returning monads of different types from the current monad. A monad can hide state inside itself, which becomes essentially a larger, more complex function than what the programmer interacts with. One concrete example of side-effect hiding is the concept of a logger.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"use std::fmt::{Debug};\\n\\nstruct UniversalLogger<T>(T);\\n\\nimpl<T> UniversalLogger<T> {\\n   fn return(t: T) -> UniversalLogger<T>\\n   where T: Debug {\\n      println!(\\\"{:?}\\\", t);\\n      UniversalLogger(t)\\n   }\\n   fn bind<R,F>(&self, f: F) -> UniversalLogger<R>\\n   where F: FnOnce(&T) -> R,\\n   R: Debug {\\n      let r = f(&self.0);\\n      println!(\\\"{:?}\\\", r);\\n      UniversalLogger(r)\\n   }\\n}\\n\\nfn main() {\\n   UniversalLogger::return(27111985)\\n            .bind(|x| x+x)\\n            .bind(|y| y*y)\\n            .bind(|z| format!(\\\"{}{}{}\\\", z, z, z));\\n}\\n\")), mdx(\"p\", null, \"The monad pattern is also very useful for chaining together code that can\\u2019t be written in a normal code block e.g. the lazy monad pattern such as an asynchronous web server.\"), mdx(\"p\", null, \"Trait:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"pub trait Monad: Functor {\\n    fn unit(value: Self::Type) -> Self;\\n    fn bind<U, F: Fn(Self::Type) -> Self::Type>(self, f: F) \\n        -> Self::Type where Self: Rebind1<U>;\\n\\n    fn join<U>(self) -> Self::Type \\n        where Self::Type: Equals<Self::Type>, \\n                Self: Rebind1<U> + Sized { ... }\\n}\\n\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Combination Pattern\")), mdx(\"p\", null, \"A combinator is a function that takes other functions as arguments and returns a new function. A simple example of a combinator would be the composition operator, which chains two functions together:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-text\"\n  }), \"fn compose<A,B,C,F,G>(f: F, g: G) -> impl Fn(A) -> C\\n   where F: 'static + Fn(A) -> B,\\n         G: 'static + Fn(B) -> C {\\n   move |x| g(f(x))\\n}\\n\\nfn main() {\\n   let fa = |x| x+1;\\n   let fb = |y| y*2;\\n   let fc = |z| z/3;\\n   let g = compose(compose(fa,fb),fc);\\n   println!(\\\"g(1) = {}\\\", g(1));\\n   println!(\\\"g(12) = {}\\\", g(12));\\n   println!(\\\"g(123) = {}\\\", g(123));\\n}\\n\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Lazy Eval Pattern\")), mdx(\"p\", null, \"A code blocks are always evaluated eagerly. If you want to define code that will be evaluated later or in pieces, the lazy eval pattern is very convenient. Lazy evaluation is a term used to describe code or data that is not evaluated until it is referenced. This is contrary to the typical eager evaluation of Rust code that will execute immediately regardless of context.\"), mdx(\"p\", null, \"Iterators are lazy. They don\\u2019t do anything until you collect or otherwise iterate over them\"), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Side Note\"), mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"The last lazy pattern that we will introduce is functional reactive programming, FRP for short. There are entire programming languages, such as Elm, based on this concept. Popular web UI frameworks, such as React or Angular, are also influenced by FRP concepts.\"), \" \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"The FRP concept is an extension of the side-effect/state monad example. Event handling, state transitions, and side-effects can be turned into units of reactive programming. This is an advance concept and shall be covered in a separate post later.\")), mdx(\"p\", null, \"#\", \"functional-programming \", \"#\", \"design-patterns \", \"#\", \"technology\"));\n}\n;\nMDXContent.isMDXComponent = true;","hero":{"full":{"base64":"data:image/webp;base64,UklGRjgAAABXRUJQVlA4ICwAAAAwAwCdASoUAAYAPtFUo0uoJKMhsAgBABoJaQAAXBudv9rAAP72Ca7/AAAAAA==","aspectRatio":3.5757575757575757,"src":"/static/1808c14b5d571a880756b14a1f47abd1/99fbb/functional-rust.webp","srcSet":"/static/1808c14b5d571a880756b14a1f47abd1/77392/functional-rust.webp 236w,\n/static/1808c14b5d571a880756b14a1f47abd1/1f177/functional-rust.webp 472w,\n/static/1808c14b5d571a880756b14a1f47abd1/99fbb/functional-rust.webp 944w,\n/static/1808c14b5d571a880756b14a1f47abd1/b923f/functional-rust.webp 1280w","srcWebp":"/static/1808c14b5d571a880756b14a1f47abd1/99fbb/functional-rust.webp","srcSetWebp":"/static/1808c14b5d571a880756b14a1f47abd1/77392/functional-rust.webp 236w,\n/static/1808c14b5d571a880756b14a1f47abd1/1f177/functional-rust.webp 472w,\n/static/1808c14b5d571a880756b14a1f47abd1/99fbb/functional-rust.webp 944w,\n/static/1808c14b5d571a880756b14a1f47abd1/b923f/functional-rust.webp 1280w","sizes":"(max-width: 944px) 100vw, 944px"},"regular":{"base64":"data:image/webp;base64,UklGRjgAAABXRUJQVlA4ICwAAAAwAwCdASoUAAYAPtFUo0uoJKMhsAgBABoJaQAAXBudv9rAAP72Ca7/AAAAAA==","aspectRatio":3.5434782608695654,"src":"/static/1808c14b5d571a880756b14a1f47abd1/0acdf/functional-rust.webp","srcSet":"/static/1808c14b5d571a880756b14a1f47abd1/ac59e/functional-rust.webp 163w,\n/static/1808c14b5d571a880756b14a1f47abd1/7660b/functional-rust.webp 327w,\n/static/1808c14b5d571a880756b14a1f47abd1/0acdf/functional-rust.webp 653w,\n/static/1808c14b5d571a880756b14a1f47abd1/75470/functional-rust.webp 980w,\n/static/1808c14b5d571a880756b14a1f47abd1/b923f/functional-rust.webp 1280w","srcWebp":"/static/1808c14b5d571a880756b14a1f47abd1/0acdf/functional-rust.webp","srcSetWebp":"/static/1808c14b5d571a880756b14a1f47abd1/ac59e/functional-rust.webp 163w,\n/static/1808c14b5d571a880756b14a1f47abd1/7660b/functional-rust.webp 327w,\n/static/1808c14b5d571a880756b14a1f47abd1/0acdf/functional-rust.webp 653w,\n/static/1808c14b5d571a880756b14a1f47abd1/75470/functional-rust.webp 980w,\n/static/1808c14b5d571a880756b14a1f47abd1/b923f/functional-rust.webp 1280w","sizes":"(max-width: 653px) 100vw, 653px"},"narrow":{"base64":"data:image/webp;base64,UklGRjgAAABXRUJQVlA4ICwAAAAwAwCdASoUAAYAPtFUo0uoJKMhsAgBABoJaQAAXBudv9rAAP72Ca7/AAAAAA==","aspectRatio":3.5625,"src":"/static/1808c14b5d571a880756b14a1f47abd1/15384/functional-rust.webp","srcSet":"/static/1808c14b5d571a880756b14a1f47abd1/31fce/functional-rust.webp 114w,\n/static/1808c14b5d571a880756b14a1f47abd1/e3e25/functional-rust.webp 229w,\n/static/1808c14b5d571a880756b14a1f47abd1/15384/functional-rust.webp 457w,\n/static/1808c14b5d571a880756b14a1f47abd1/0258d/functional-rust.webp 686w,\n/static/1808c14b5d571a880756b14a1f47abd1/64ea2/functional-rust.webp 914w,\n/static/1808c14b5d571a880756b14a1f47abd1/b923f/functional-rust.webp 1280w","srcWebp":"/static/1808c14b5d571a880756b14a1f47abd1/15384/functional-rust.webp","srcSetWebp":"/static/1808c14b5d571a880756b14a1f47abd1/31fce/functional-rust.webp 114w,\n/static/1808c14b5d571a880756b14a1f47abd1/e3e25/functional-rust.webp 229w,\n/static/1808c14b5d571a880756b14a1f47abd1/15384/functional-rust.webp 457w,\n/static/1808c14b5d571a880756b14a1f47abd1/0258d/functional-rust.webp 686w,\n/static/1808c14b5d571a880756b14a1f47abd1/64ea2/functional-rust.webp 914w,\n/static/1808c14b5d571a880756b14a1f47abd1/b923f/functional-rust.webp 1280w","sizes":"(max-width: 457px) 100vw, 457px"},"seo":{"src":"/static/1808c14b5d571a880756b14a1f47abd1/9000d/functional-rust.webp"}}},{"id":"90741eca-f2e3-506d-9b3f-c4f435f46737","slug":"/clean-architecture-in-functional-programming","secret":false,"title":"Clean architecture in functional programming","author":"Bipin Paul Bedi","date":"November 5th, 2019","dateForSEO":"2019-11-05","timeToRead":1,"excerpt":"a clean approach to modularising software projects","canonical_url":null,"subscription":true,"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Clean architecture in functional programming\",\n  \"author\": \"Bipin Paul Bedi\",\n  \"date\": \"2019-11-05\",\n  \"hero\": \"./images/clean.jpg\",\n  \"excerpt\": \"a clean approach to modularising software projects\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component '\" + name + \"' was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"All the design principles and design patterns that we\\u2019ve identified over the last several decades apply only to OO; and that Functional Programming reduces them all down to: functions. Quoting from clean coders blog look at the comparison chart below;\"), mdx(\"div\", {\n    \"className\": \"Image__Small\"\n  }, \"\\n  \", mdx(\"span\", _extends({\n    parentName: \"div\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"932px\"\n    }\n  }), \"\\n      \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"59.442060085836914%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAIBAwX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHYsWRwD//EABkQAAMAAwAAAAAAAAAAAAAAAAABEQIhQv/aAAgBAQABBQKbaEdZEP/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAACD/2gAIAQEABj8CX//EABgQAQEBAQEAAAAAAAAAAAAAAAABESFB/9oACAEBAAE/IeqcojIj5Yf/2gAMAwEAAgADAAAAEBPP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAHBABAQACAgMAAAAAAAAAAAAAAREAITFBcYGR/9oACAEBAAE/EGGUjqVyuxUeW4EgDvWG+7nHywA1frn/2Q==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/9f1938be809369932d1e93700ca665c7/c7a47/oovsfp.webp 932w\"],\n    \"sizes\": \"(max-width: 932px) 100vw, 932px\",\n    \"type\": \"image/webp\"\n  })), \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/9f1938be809369932d1e93700ca665c7/4029f/oovsfp.jpg 932w\"],\n    \"sizes\": \"(max-width: 932px) 100vw, 932px\",\n    \"type\": \"image/jpeg\"\n  })), \"\\n        \", mdx(\"img\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"src\": \"/static/9f1938be809369932d1e93700ca665c7/4029f/oovsfp.jpg\",\n    \"alt\": \"oovsfp\",\n    \"title\": \"oovsfp\",\n    \"loading\": \"lazy\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    }\n  })), \"\\n      \"), \"\\n    \")), mdx(\"p\", null, \"In object-oriented architecture, we often struggle towards the ideal of the Ports and Adapters architecture, although we often call it something else: layered architecture, onion architecture, hexagonal architecture, and so on. The goal is to decouple the business logic from technical implementation details, so that we can vary each independently.\"), mdx(\"p\", null, \"This creates value because it enables us adapt to changing business or technology.\"), mdx(\"p\", null, \"Comparing to Clean Coder Clean Architecture : \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://blog.cleancoder.com/uncle-bob/2012/08/13/the-clean-architecture.html\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"https://blog.cleancoder.com/uncle-bob/2012/08/13/the-clean-architecture.html\")), mdx(\"div\", {\n    \"className\": \"Image__Small\"\n  }, \"\\n  \", mdx(\"span\", _extends({\n    parentName: \"div\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"772px\"\n    }\n  }), \"\\n      \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"73.44559585492229%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAIDAQX/xAAVAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAAB6eycmog1/8QAGBAAAwEBAAAAAAAAAAAAAAAAAAECIRH/2gAIAQEAAQUCdMVHSsJwl5//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAVEAEBAAAAAAAAAAAAAAAAAAAgIf/aAAgBAQAGPwKL/8QAGhAAAgMBAQAAAAAAAAAAAAAAAAERIUExgf/aAAgBAQABPyEhW2W4mWym/DRtklnp/9oADAMBAAIAAwAAABBsz//EABgRAAIDAAAAAAAAAAAAAAAAAAABIaGx/9oACAEDAQE/ENocH//EABcRAAMBAAAAAAAAAAAAAAAAABARIWH/2gAIAQIBAT8Qrwf/xAAbEAEAAwEBAQEAAAAAAAAAAAABABEhMUFRYf/aAAgBAQABPxBSgvaA6/WMGtgsT0jggIV2C2sCX02EJs4A+fsRFFt2f//Z')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/07b2e4403c83a8b377ad14ab3589044c/446d6/CleanArchitecture.webp 772w\"],\n    \"sizes\": \"(max-width: 772px) 100vw, 772px\",\n    \"type\": \"image/webp\"\n  })), \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/07b2e4403c83a8b377ad14ab3589044c/37601/CleanArchitecture.jpg 772w\"],\n    \"sizes\": \"(max-width: 772px) 100vw, 772px\",\n    \"type\": \"image/jpeg\"\n  })), \"\\n        \", mdx(\"img\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"src\": \"/static/07b2e4403c83a8b377ad14ab3589044c/37601/CleanArchitecture.jpg\",\n    \"alt\": \"CleanArchitecture\",\n    \"title\": \"CleanArchitecture\",\n    \"loading\": \"lazy\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    }\n  })), \"\\n      \"), \"\\n    \")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Entities ~ Domain  \"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Use Cases ~ Ports  \"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Controllers/Gateways/Presenters ~ Adaptors  \")), mdx(\"p\", null, \"Thus a functional programming architecture can be modelled in three elements viz:\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Domain:\"), \" the core, the functionality that models the domain behaviours and data.\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Ports:\"), \" entry \", \"(\", \"or exit\", \")\", \" points to the domain. It shall be composed by only pure functions. It will provide the predictability and testability we need for the most important part of the system and we can reason about it more easily due to its deterministic nature.\", mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Adaptors:\"), \" shall contain all the functions that will access the external systems, i.e. that will perform side effects. So the impure \", \"(\", \"non-deterministic\", \")\", \" functions will be enclosed in the boundaries of the application.\"), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Side tip for code reviewers\"), mdx(\"br\", {\n    parentName: \"p\"\n  }), \"\\n\", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"If a function name contains \\u201Cand\\u201D, then it is a code smell; violation of single responsibility\", mdx(\"br\", {\n    parentName: \"em\"\n  }), \"e.g. CreateXAndManageY\", \"(\", \")\", \" should be CreateX\", \"(\", \")\", \" + ManageY\", \"(\", \")\", mdx(\"br\", {\n    parentName: \"em\"\n  }), \"then function composition can be used to create a higher order domain functionality.\")), mdx(\"p\", null, \"#\", \"functional-programming \", \"#\", \"design-patterns \", \"#\", \"technology \", \"#\", \"clean-architecture\"));\n}\n;\nMDXContent.isMDXComponent = true;","hero":{"full":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAUB/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAABtyquBo//xAAaEAACAgMAAAAAAAAAAAAAAAABAgAQAwQR/9oACAEBAAEFAoy5Dtg1yv/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABgQAAIDAAAAAAAAAAAAAAAAAAABAiBC/9oACAEBAAY/AhSwq//EABsQAQACAgMAAAAAAAAAAAAAAAEAESExQVFx/9oACAEBAAE/IYaHIXnglhevYwBKOp//2gAMAwEAAgADAAAAEDPP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGRABAQEBAQEAAAAAAAAAAAAAAREAITFh/9oACAEBAAE/EEhp5kFyHpTAaG/DhmFMwwyzUL9N/9k=","aspectRatio":1.5031847133757963,"src":"/static/fcea35c24f0c078234fcd1965906de82/58fe7/clean.jpg","srcSet":"/static/fcea35c24f0c078234fcd1965906de82/e0f30/clean.jpg 236w,\n/static/fcea35c24f0c078234fcd1965906de82/86afd/clean.jpg 472w,\n/static/fcea35c24f0c078234fcd1965906de82/58fe7/clean.jpg 944w,\n/static/fcea35c24f0c078234fcd1965906de82/02748/clean.jpg 1416w,\n/static/fcea35c24f0c078234fcd1965906de82/5c241/clean.jpg 1888w,\n/static/fcea35c24f0c078234fcd1965906de82/097fa/clean.jpg 1920w","srcWebp":"/static/fcea35c24f0c078234fcd1965906de82/99fbb/clean.webp","srcSetWebp":"/static/fcea35c24f0c078234fcd1965906de82/77392/clean.webp 236w,\n/static/fcea35c24f0c078234fcd1965906de82/1f177/clean.webp 472w,\n/static/fcea35c24f0c078234fcd1965906de82/99fbb/clean.webp 944w,\n/static/fcea35c24f0c078234fcd1965906de82/4a492/clean.webp 1416w,\n/static/fcea35c24f0c078234fcd1965906de82/b0b8f/clean.webp 1888w,\n/static/fcea35c24f0c078234fcd1965906de82/30cf3/clean.webp 1920w","sizes":"(max-width: 944px) 100vw, 944px"},"regular":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAUB/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAABtyquBo//xAAaEAACAgMAAAAAAAAAAAAAAAABAgAQAwQR/9oACAEBAAEFAoy5Dtg1yv/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABgQAAIDAAAAAAAAAAAAAAAAAAABAiBC/9oACAEBAAY/AhSwq//EABsQAQACAgMAAAAAAAAAAAAAAAEAESExQVFx/9oACAEBAAE/IYaHIXnglhevYwBKOp//2gAMAwEAAgADAAAAEDPP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGRABAQEBAQEAAAAAAAAAAAAAAREAITFh/9oACAEBAAE/EEhp5kFyHpTAaG/DhmFMwwyzUL9N/9k=","aspectRatio":1.4954128440366972,"src":"/static/fcea35c24f0c078234fcd1965906de82/1dc0b/clean.jpg","srcSet":"/static/fcea35c24f0c078234fcd1965906de82/3a5ce/clean.jpg 163w,\n/static/fcea35c24f0c078234fcd1965906de82/05730/clean.jpg 327w,\n/static/fcea35c24f0c078234fcd1965906de82/1dc0b/clean.jpg 653w,\n/static/fcea35c24f0c078234fcd1965906de82/f72c7/clean.jpg 980w,\n/static/fcea35c24f0c078234fcd1965906de82/6e4a3/clean.jpg 1306w,\n/static/fcea35c24f0c078234fcd1965906de82/097fa/clean.jpg 1920w","srcWebp":"/static/fcea35c24f0c078234fcd1965906de82/0acdf/clean.webp","srcSetWebp":"/static/fcea35c24f0c078234fcd1965906de82/ac59e/clean.webp 163w,\n/static/fcea35c24f0c078234fcd1965906de82/7660b/clean.webp 327w,\n/static/fcea35c24f0c078234fcd1965906de82/0acdf/clean.webp 653w,\n/static/fcea35c24f0c078234fcd1965906de82/75470/clean.webp 980w,\n/static/fcea35c24f0c078234fcd1965906de82/68d47/clean.webp 1306w,\n/static/fcea35c24f0c078234fcd1965906de82/30cf3/clean.webp 1920w","sizes":"(max-width: 653px) 100vw, 653px"},"narrow":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAUB/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAABtyquBo//xAAaEAACAgMAAAAAAAAAAAAAAAABAgAQAwQR/9oACAEBAAEFAoy5Dtg1yv/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABgQAAIDAAAAAAAAAAAAAAAAAAABAiBC/9oACAEBAAY/AhSwq//EABsQAQACAgMAAAAAAAAAAAAAAAEAESExQVFx/9oACAEBAAE/IYaHIXnglhevYwBKOp//2gAMAwEAAgADAAAAEDPP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGRABAQEBAQEAAAAAAAAAAAAAAREAITFh/9oACAEBAAE/EEhp5kFyHpTAaG/DhmFMwwyzUL9N/9k=","aspectRatio":1.5,"src":"/static/fcea35c24f0c078234fcd1965906de82/eaa58/clean.jpg","srcSet":"/static/fcea35c24f0c078234fcd1965906de82/5a3ee/clean.jpg 114w,\n/static/fcea35c24f0c078234fcd1965906de82/41f8f/clean.jpg 229w,\n/static/fcea35c24f0c078234fcd1965906de82/eaa58/clean.jpg 457w,\n/static/fcea35c24f0c078234fcd1965906de82/c309b/clean.jpg 686w,\n/static/fcea35c24f0c078234fcd1965906de82/e3008/clean.jpg 914w,\n/static/fcea35c24f0c078234fcd1965906de82/097fa/clean.jpg 1920w","srcWebp":"/static/fcea35c24f0c078234fcd1965906de82/15384/clean.webp","srcSetWebp":"/static/fcea35c24f0c078234fcd1965906de82/31fce/clean.webp 114w,\n/static/fcea35c24f0c078234fcd1965906de82/e3e25/clean.webp 229w,\n/static/fcea35c24f0c078234fcd1965906de82/15384/clean.webp 457w,\n/static/fcea35c24f0c078234fcd1965906de82/0258d/clean.webp 686w,\n/static/fcea35c24f0c078234fcd1965906de82/64ea2/clean.webp 914w,\n/static/fcea35c24f0c078234fcd1965906de82/30cf3/clean.webp 1920w","sizes":"(max-width: 457px) 100vw, 457px"},"seo":{"src":"/static/fcea35c24f0c078234fcd1965906de82/0ff54/clean.jpg"}}}]}},"staticQueryHashes":["1143375668","1491088328","1921650733","2068910035","2444214635"]}